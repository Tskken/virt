#version 450

#define PI 3.14159265359
#define TWO_PI 6.28318530718

layout(location = 0) in vec4 v_color;
layout(location = 1) in vec4 v_position;

layout(location = 0) out vec4 f_color;

void main() {
    int n = 3;

    float a = atan(v_position.x, v_position.y) + PI;
    float r = TWO_PI/float(n);

    float d = cos(floor(0.5+a/r)*r-a)*length(v_position);
    vec3 color = vec3(1.0-smoothstep(0.4, 0.41, d));

    f_color = vec4(color, 1.0);
}